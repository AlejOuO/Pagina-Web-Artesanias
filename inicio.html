{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio - JABIEIYE{% endblock %}

{% block content %}
    {# Sección de Banner principal #}
    <header class="hero-section" style="background-image: url('{% static 'img/fondo.png' %}');"> 
        <div class="hero-content">
            <h1 class="display-3">Bienvenido a JABIEIYE</h1> 
            <p class="lead">Donde el arte ancestral de Colombia cobra vida</p> 
            <a href="{% url 'productos' %}" class="btn btn-primary btn-lg mt-3">Explorar Productos</a>
        </div>
    </header>

    {#seccion donde está el artesano#}
    <section class="my-5">
        <div class="container"> 
            <div class="row align-items-center">
                <div class="col-md-5 text-center">
                    <img src="{% static 'img/artesano 1.jpg' %}" class="img-fluid artesano-cuadro mb-3" alt="Artesano"> 
                </div>
                <div class="col-md-7"> {# Ajuste de columna para el texto #}
                    <h2>Nuestra Misión</h2>
                    <p>En JABIEIYE, nos dedicamos a preservar y promover el invaluable legado cultural de las comunidades indígenas y rurales de Colombia. Trabajamos directamente con artesanos, asegurando precios justos y fomentando prácticas sostenibles.</p>
                    <p>Cada pieza que encuentras aquí cuenta una historia, un saber ancestral transmitido de generación en generación. No solo adquieres un objeto hermoso, sino que contribuyes al sustento de familias y a la continuidad de tradiciones milenarias.</p>
                    <a href="{% url 'sobre_nosotros' %}" class="btn btn-outline-primary">Conoce más sobre nosotros</a>
                </div>
            </div>
        </div>
    </section>

    {# Sección de Productos Destacados#}
    <section class="my-5">
        <h2 class="text-center mb-4">Productos Destacados</h2>
        <div class="container"> 
            {% if productos_destacados %}
            <div class="row">
                {% for producto in productos_destacados %}
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        {% if producto.imagen %}
                            <img src="{{ producto.imagen.url }}" class="card-img-top" alt="{{ producto.nombre }}">
                        {% else %}
                            <img src="{% static 'img/placeholder_categoria.jpg' %}" class="card-img-top" alt="Imagen no disponible"> {# RUTA IMAGEN CORREGIDA #}
                        {% endif %}
                        <div class="card-body">
                            <h5 class="card-title">{{ producto.nombre }}</h5>
                            <p class="card-text text-muted">{{ producto.categoria.nombre }}</p>
                            <p class="card-text"><strong>COP ${{ producto.precio|floatformat:0 }}</strong></p>
                            <a href="{% url 'detalle_producto' producto.slug %}" class="btn btn-primary mt-auto">Ver Detalle</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
                <p class="text-center">No hay productos destacados disponibles en este momento.</p>
            {% endif %}
            <div class="text-center mt-4">
                <a href="{% url 'productos' %}" class="btn btn-outline-primary">Ver Todos los Productos</a>
            </div>
        </div>
    </section>

    {# Sección "Explora por Categoría" #}
    <section class="my-5 bg-light p-4 rounded shadow-sm">
        <div class="container"> 
            <h2 class="text-center mb-4">Explora por Categoría</h2>
            <div class="row text-center">
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="category-item">
                        <img src="{% static 'img/collar4.jpg' %}" alt="Categoría 1" class="img-fluid rounded-circle mb-2" style="width: 150px; height: 150px; object-fit: cover;"> 
                        <h5>Bisuteria</h5>
                        <a href="{% url 'productos' %}?categoria=ceramica" class="btn btn-sm btn-outline-secondary">Ver</a>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="category-item">
                        <img src="{% static 'img/bolso_wayuu.jpg' %}" alt="Categoría 2" class="img-fluid rounded-circle mb-2" style="width: 150px; height: 150px; object-fit: cover;"> 
                        <h5>Tejidos</h5>
                        <a href="{% url 'productos' %}?categoria=tejido" class="btn btn-sm btn-outline-secondary">Ver</a>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="category-item">
                        <img src="{% static 'img/canasto.jpg' %}" alt="Categoría 3" class="img-fluid rounded-circle mb-2" style="width: 150px; height: 150px; object-fit: cover;">
                        <h5>Canastos</h5>
                        <a href="{% url 'productos' %}?categoria=madera" class="btn btn-sm btn-outline-secondary">Ver</a>
                    </div>
                </div>
            </div>
        </div> 
    </section>

{% endblock %}